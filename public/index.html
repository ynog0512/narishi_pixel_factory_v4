<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>なりし専用ピクセルファクトリー</title>
  <link rel="stylesheet" href="style.css" />

  <!-- 🔽 PWA対応 -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#a78bfa" />
  <link rel="apple-touch-icon" href="assets/icon/icon192.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
</head>

<!-- Firebase SDK 読み込み＆初期化 -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBRu_AJNnUsqrbSmoLkbrCSGMlQbsS4T6Q",
    authDomain: "narishi-pixel-factory-v4-414e7.firebaseapp.com",
    projectId: "narishi-pixel-factory-v4-414e7",
    storageBucket: "narishi-pixel-factory-v4-414e7.appspot.com",
    messagingSenderId: "708754818079",
    appId: "1:708754818079:web:5f76501f37855a705ac12a"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  window.db = db;
  window.addDoc = addDoc;
  window.collection = collection;
</script>

<body>
  <h1>今日のピクセル野菜</h1>

  <div id="canvasContainer">
    <canvas id="pixelCanvas" width="1080" height="1080"></canvas>
  </div>

  <div class="button-group">
    <button onclick="generatePixelArt()">ピクセル野菜を収穫する</button>
    <button onclick="copyPostText()">投稿テキストをコピー</button>
    <a href="zukan.html" class="zukan-button">マイピクセル野菜図鑑をひらく</a>
  </div>

  <div id="infoBox">
    <p id="characterName" class="info-text"></p>
    <p id="generatedDate" class="info-text"></p>
    <p id="characterType" class="info-text"></p>
    <p id="serialNumber" class="info-text"></p>
    <p id="hashtagBlock" class="note"></p>
  </div>

  <img id="previewImage" style="display:none; width: 300px; margin-top: 20px;" />

  <script src="script.js"></script>
  <!-- 最終更新：2025-05-24 -->

</body>
</html>
